DD-OBJ-PARENT-BEHALF
Объекты сами отвечают за свое прицепляние в родительское дерево. Для этого им передается state.struc_parent_id.
Т.е. они сами говорят [state.struc_parent_id].append( obj ). Потому что а) так проще чилдренов генерить изнутри объекта и снаружи,
а  главное - не все "объекты синтаксические" будут объектами дерева, например let не будет.
update там надо иметь 2 родителя. 1 для формирования исходящих ссылок, struc_parent_id, а второй для подключения к дереву, tree_parent_id. Второго может и не быть, если например не древовидного вида вещь.