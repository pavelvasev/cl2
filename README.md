# Язык CLON
Язык CLON (читается как СЛОН). Состоит из трёх уровней:
1. Координирующий язык программирования. 
2. Уровень реактивных вычислений на основе процессов.
3. Уровень обычных вычислений с частичным порядком выполения операций.

Уровни 1-2 призваны решать задачи описания динамических процессов, по аналогии как это делает React и т.п.
Уровень 3 это попытка построить универсальный язык программирования.

## Координирующий язык
Содержит модель описания и вычисления процессов. При этом действия процессов описываются на базовом языке (сейчас Javascript).
Базовые понятия модели:
* Примитивы синхронизации: канал, ячейка (в будущем - обещание, поток)
* Реакция - связывает примитивы синхронизации и действия.
* Связь - связыват примитивы синхонизации между собой.
* Процесс - структурная единица, состоящая из примитивов синхронизации, реакций, связей, подпроцессов.

## Уровень реактивных вычислений
На языке возможно описание выражений из процессов, которые соединяют процессы по входам и выходам (ячейкам с именами input и output).
Например, в описании
```
someobject alfa=(compute1 (compute2 @x @y) @z | compute3 @w)
```
будут созданы и соединены процессы compute1,2,3, а результат работы выражения будет записываться в канал alfa процесса someobject.
При этом если значения в каналах x,y,z,w меняются, то они пересылаются соответствующим процессам, и выражение может поменять свой результат.
Это есть т.н. реактивные вычисления.

## Уровень обычных вычислений
На языке возможно описание не только процессов и их композиций, но и обычных действий (функций).
Пример описания и вызова функции:
```
func "foo" { x y |       // задает функцию foo с двумя аргументами
  return (@x * (@y + 10)
}
print "foo is" (foo 10 20) // вызывает процесс вычисления foo
```

Используемая вычислительная модель предполагает частичный порядок выполнения операций, а не последовательный как обычно.
Пример порядка выполнения шагов:
```
a := @b + 1                        // шаг 3
b := math.sin (@x) + math.cos (@x) // шаг 2
print @a                           // шаг 4
x := os.fetch "http://current.x"   // шаг 1
return @a                          // шаг 4.1 после шага 4
```

## Примеры
В каталоге [test.official](test.official) приведены тесты разных возможностей языка.

## Запуск CLON
Транслятор языка работает в Линукс с установленной Nodejs.
* Установите пакет `npm install clon-lang -g`. После установки интерпретатор станет доступен по команде `clon`.
* Зайдите в каталог с файлом программы main.cl
* Выполните команду `clon run` которая:
  - транслирует файл `main.cl` в `main.cl.mjs`
  - запускает команду `node main.cl.mjs`.
   
## Быстрый запуск CLON
* Зайдите в каталог программы с файлом main.cl
* Выполните команду `npx clon-lang run` которая:
  - скачивает транслятор языка CLON в Javascript
  - транслирует файл `main.cl` в `main.cl.mjs`
  - запускает команду `node main.cl.mjs`.

## Лицензия
Типа MIT.
2023 Pavel Vasev
