# Решение задачи Frontend для конкурса Beautifulcode

Условия конкурса: https://beautifulcode.sber.ru/task/frontend

## Код решения
```
func "mapArrayToHashByKey" { array key |
  h := map (@array or []) { item | list (get @item @key) @item }
        | filter { v | (get @v 0) != null }
        | dict
  return (concat @h (dict (+ "_" @key "s") (keys @h)))
}
```

Программа написана на языке CLON.
Подробнее о языке см. https://github.com/pavelvasev/clon-lang

Пояснения.
* func - вводит в окружение указанную функцию под указанным именем,
форма `{ arg | body }` задает тело функции.
* таким образом array key - два аргумента функции
* оператор `h := ` запускает вычисление определяемое выражением справа и соединяет его результаты с ячейкой h (которую также вводит в окружение)
* map - обычный оператор преобразования массива по-элементно.
* list - оператор создания списка в форме массива.
* dict - оператор создания словаря; в решении используются две формы `dict [ [key value] [k value] ...` создает словарь на основе списка и `dict key value ...` на основе позиционых аргументов.
* filter - фильтрация массива.
* get - оператор доступа к элементу массива.
* concat - объединие словарей, массивов.
* return - определяет значение, возвращаемое функцией.

* Вызов операторов в CLON без скобок, аргументы-ссылки предваряются символом @, позиционные аргументы-выражения выделяются скобками.
* Операторы в CLON вычисляются на основе частичного порядка, который определяется зависимостями по данным.

## Запуск программы

Код решения размещен в файле [main.cl](main.cl), и в нём же размещены тестовые данные и вычисление на их основе.
 
* Работает в Линукс с установленной Nodejs
* Зайти в каталог программы (с файлом main.cl)
* Выполнить команду `npx clon-lang run` которая:
  - скачивает транслятор языка CLON в Javascript
  - транслирует файл `main.cl` в `main.cl.mjs`
  - запускает команду `node main.cl.mjs`.

Пример вывода программы см. файл [output.txt](output.txt).